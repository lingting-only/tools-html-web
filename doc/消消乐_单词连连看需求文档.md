# 单词消消乐游戏需求文档

## 1. 产品概述

单词消消乐是一款面向儿童的教育类网页游戏，通过匹配单词和其对应翻译的方式，帮助儿童学习英语单词。游戏具有可爱的视觉风格、流畅的动画效果和简单易懂的操作方式，适合儿童使用。

### 1.1 产品目标
- 提供有趣的英语单词学习方式
- 培养儿童的记忆力和专注力
- 提供良好的用户体验和视觉效果
- 支持离线运行，无需网络连接

## 2. 功能需求

### 2.1 核心功能
1. **游戏标题修改**：点击标题可修改游戏名称，修改后自动保存
2. **单词数量调节**：通过滑块调节游戏中的单词对数（5-50对）
3. **词表导入**：支持导入Excel/CSV格式的单词表（第一列单词，第二列翻译）
4. **游戏开始/重置**：点击开始游戏按钮开始或重置游戏
5. **单词匹配**：点击卡片进行匹配，匹配成功则消除，失败则提示
6. **计时功能**：记录游戏开始到完成的时间
7. **继续挑战**：完成当前关卡后可继续挑战下一组单词
8. **数据存储**：将单词表和标题设置存储到localStorage，支持离线使用

### 2.2 动画效果
1. **选中动画**：选中卡片时的放大摆动效果，持续保持直到取消选中
2. **消除动画**：匹配成功时的卡片消除动画
3. **失败动画**：匹配失败时的红色渐变提示
4. **星星动画**：匹配成功时的星星飘散效果
5. **标题动画**：标题的弹跳动画效果

### 2.3 默认词库
游戏内置30对基础英语单词的默认词库，包括：
- 水果类：apple, banana, grape, orange
- 动物类：cat, dog, elephant, fish, lion, rabbit, zebra
- 物品类：house, kite, notebook, pen, umbrella, violin, xylophone, book, computer, desk, chair
- 其他：ice, juice, milk, sun, tree, water, yellow

## 3. 非功能需求

### 3.1 性能需求
- 页面加载时间不超过2秒
- 动画效果流畅，无卡顿
- 支持主流浏览器（Chrome, Firefox, Safari, Edge）

### 3.2 可用性需求
- 界面设计符合儿童审美，色彩鲜艳、动画丰富
- 操作简单直观，适合6-12岁儿童使用
- 响应式设计，支持不同屏幕尺寸

### 3.3 兼容性需求
- 支持离线运行，无需网络连接
- 不依赖第三方库，纯原生实现
- 支持Windows, macOS, Linux等操作系统

## 4. 技术实现

### 4.1 技术栈
- **前端**：HTML5, CSS3, JavaScript (ES6+)
- **存储**：localStorage
- **文件处理**：FileReader API（用于读取导入的词表文件）

### 4.2 核心技术实现
1. **游戏逻辑**：
   - 使用二维数组存储单词对
   - 随机打乱单词顺序
   - 实现卡片点击匹配逻辑
   - 计时和游戏状态管理

2. **动画效果**：
   - 使用CSS3动画实现各种视觉效果
   - 使用JavaScript控制动画触发和状态管理

3. **数据存储**：
   - 使用localStorage存储单词表和游戏设置
   - 实现数据的序列化和反序列化

4. **文件处理**：
   - 使用FileReader API读取导入的词表文件
   - 解析CSV格式的词表数据

### 4.3 代码结构
- **HTML**：页面结构和布局
- **CSS**：样式和动画效果
- **JavaScript**：游戏逻辑和交互处理

## 5. 界面设计

### 5.1 视觉风格
- **主色调**：粉色(#ff6b9d)和蓝色(#add8e6)
- **背景**：淡紫色背景，带有粉色和蓝色圆点图案
- **字体**：Comic Sans MS，圆润可爱
- **卡片**：彩色圆角卡片，带有阴影效果
- **按钮**：圆角按钮，带有渐变和悬停效果

### 5.2 页面布局
1. **顶部**：游戏标题（可点击修改）
2. **菜单区域**：
   - 单词数量滑块
   - 导入词表按钮
   - 开始游戏按钮
3. **计时区域**：显示游戏耗时
4. **游戏区域**：单词卡片网格（10列布局）
5. **模态框**：游戏结束时显示结果

### 5.3 响应式设计
- **桌面端**：10列卡片布局
- **平板端**：6列卡片布局
- **移动端**：5列卡片布局

## 6. 交互流程

### 6.1 游戏流程
1. **游戏加载**：
   - 检查localStorage是否有保存的词表
   - 无则使用默认词库，有则加载保存的词表
   - 加载保存的游戏标题

2. **游戏设置**：
   - 调节单词数量滑块
   - （可选）导入自定义词表

3. **开始游戏**：
   - 点击开始游戏按钮
   - 随机打乱单词顺序
   - 生成单词卡片
   - 开始计时

4. **游戏进行**：
   - 点击卡片进行选中
   - 再次点击卡片进行匹配
   - 匹配成功：卡片消除，播放星星动画
   - 匹配失败：显示红色提示

5. **游戏结束**：
   - 所有卡片匹配完成后停止计时
   - 显示游戏结束模态框，显示耗时
   - 点击继续挑战按钮开始下一轮游戏

### 6.2 操作说明
- **点击标题**：修改游戏名称
- **拖动滑块**：调节单词数量
- **点击导入按钮**：选择并导入词表文件
- **点击开始游戏**：开始或重置游戏
- **点击卡片**：选中或匹配卡片
- **点击继续挑战**：开始下一轮游戏

## 7. 数据结构

### 7.1 单词数据结构
```javascript
// 单词列表二维数组
wordList = [
    [word1, meaning1],
    [word2, meaning2],
    // ...
];
```

### 7.2 游戏状态数据
```javascript
// 游戏状态变量
currentPairs = 10;        // 当前单词对数
currentIndex = 0;         // 当前单词索引
gameStarted = false;      // 游戏是否开始
timer = 0;                // 计时器
selectedCard = null;      // 选中的卡片
matchedPairs = 0;         // 匹配的对数
gameTitle = "单词消消乐"; // 游戏标题
```

### 7.3 本地存储数据
```javascript
// localStorage存储
localStorage.setItem('wordList', JSON.stringify(wordList));
localStorage.setItem('gameTitle', gameTitle);
```

## 8. 测试需求

### 8.1 功能测试
- 游戏标题修改功能
- 单词数量调节功能
- 词表导入功能
- 游戏开始/重置功能
- 单词匹配功能
- 计时功能
- 继续挑战功能
- 数据存储功能

### 8.2 动画测试
- 选中动画效果
- 消除动画效果
- 失败动画效果
- 星星动画效果
- 标题动画效果

### 8.3 兼容性测试
- 不同浏览器测试（Chrome, Firefox, Safari, Edge）
- 不同屏幕尺寸测试
- 离线运行测试
- 性能测试（动画流畅度）

## 9. 部署需求

### 9.1 部署环境
- 静态网站托管服务
- 支持HTML5, CSS3, JavaScript的现代浏览器

### 9.2 部署步骤
1. 将HTML文件部署到网站根目录
2. 确保文件结构完整，无需额外依赖
3. 测试离线访问功能
4. 验证所有功能正常运行

### 9.3 维护需求
- 定期更新默认词库
- 优化游戏性能和用户体验
- 修复可能出现的bug

## 10. 技术难点与解决方案

### 10.1 技术难点
1. **离线数据存储**：确保游戏在无网络环境下正常运行
2. **动画效果**：实现流畅的卡片动画和星星效果
3. **词表导入**：处理Excel/CSV文件的读取和解析
4. **响应式设计**：适配不同屏幕尺寸

### 10.2 解决方案
1. **离线数据存储**：使用localStorage存储游戏数据
2. **动画效果**：使用CSS3动画和JavaScript控制
3. **词表导入**：使用FileReader API读取文件，解析CSV格式数据
4. **响应式设计**：使用CSS Grid和媒体查询实现

## 11. 项目资源

### 11.1 开发资源
- 开发环境：现代浏览器 + 文本编辑器
- 测试工具：不同浏览器和设备

### 11.2 设计资源
- 颜色方案：粉色(#ff6b9d)、蓝色(#add8e6)、白色(#ffffff)
- 字体：Comic Sans MS
- 动画效果：CSS3动画

## 12. 验收标准

### 12.1 功能验收
- 所有核心功能正常运行
- 单词匹配逻辑正确
- 数据存储功能正常
- 动画效果流畅

### 12.2 界面验收
- 视觉风格符合设计要求
- 响应式布局适配不同设备
- 交互体验流畅自然
- 动画效果符合预期

### 12.3 性能验收
- 页面加载时间不超过2秒
- 动画效果流畅，无卡顿
- 游戏运行稳定，无崩溃

## 13. 风险评估

### 13.1 潜在风险
1. **浏览器兼容性**：不同浏览器对CSS3动画的支持可能存在差异
2. **文件解析**：导入的词表文件格式可能不符合要求
3. **数据存储**：localStorage存储容量有限，可能无法存储大量单词

### 13.2 风险缓解
1. **浏览器兼容性**：使用标准CSS3动画，测试主流浏览器
2. **文件解析**：添加文件格式验证，提供清晰的导入说明
3. **数据存储**：限制最大单词数量，提供数据清理选项

## 14. 代码实现要点

### 14.1 HTML结构
- 使用语义化标签
- 合理的DOM结构层次
- 适当的class命名

### 14.2 CSS样式
- 使用CSS变量管理颜色
- 利用CSS Grid实现卡片布局
- 使用@keyframes定义动画
- 响应式设计使用媒体查询

### 14.3 JavaScript逻辑
- 模块化函数设计
- 合理的变量命名
- 清晰的游戏状态管理
- 事件处理函数的优化

### 14.4 性能优化
- 减少DOM操作
- 合理使用setTimeout
- 避免不必要的重绘和回流

## 15. 总结

单词消消乐是一款功能完整、界面可爱、适合儿童的英语学习游戏。通过本需求文档的指导，可以实现一个高质量的单词消消乐游戏，为儿童提供有趣的英语学习体验。游戏的核心价值在于将教育与娱乐相结合，通过游戏化的方式激发儿童学习英语的兴趣。

## 16. 生成代码时的注意事项

1. **文件结构**：创建单个HTML文件，包含内联的CSS和JavaScript
2. **默认词库**：确保内置30对基础英语单词
3. **动画效果**：实现所有指定的动画效果
4. **响应式设计**：确保在不同设备上都能正常显示
5. **离线运行**：使用localStorage存储数据
6. **用户体验**：确保界面友好，操作简单
7. **代码质量**：保持代码清晰、注释充分
8. **测试**：确保所有功能正常运行

## 17. 技术实现细节

### 17.1 卡片消除逻辑
- 匹配成功后添加remove类触发动画
- 动画结束后设置opacity为0保持占位
- 禁用pointer-events防止再次点击

### 17.2 星星动画实现
- 在匹配成功时创建星星元素
- 设置随机位置和动画延迟
- 动画结束后自动移除星星元素

### 17.3 词表导入处理
- 使用FileReader API读取文件
- 解析CSV格式数据，按行分割
- 验证数据格式，确保每行有两个字段

### 17.4 游戏状态管理
- 使用变量跟踪游戏状态
- 合理的状态转换逻辑
- 游戏结束条件的判断

### 17.5 响应式布局实现
- 使用CSS Grid的auto-fit和minmax
- 媒体查询适配不同屏幕尺寸
- 确保在小屏幕上的可用性

## 18. 未来扩展建议

1. **多语言支持**：增加更多语言的词库
2. **难度级别**：根据儿童年龄设置不同难度
3. **成就系统**：添加游戏成就和奖励
4. **音效系统**：增加游戏音效，提升体验
5. **排行榜**：记录最佳成绩
6. **家长监控**：添加学习进度报告

---

本需求文档详细描述了单词消消乐游戏的功能、设计和实现细节，可作为AI编程生成代码的参考依据。